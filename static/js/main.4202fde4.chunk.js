(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{154:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/clouds.2b8ecda2.gif"},186:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/rain.ad71a4ef.gif"},187:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/sun.5e4ba486.gif"},188:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/clear-sky.07b94d03.gif"},189:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),i=a.n(c),s=(a(154),a(130)),o=a(2),u=function(e){var t=e.gifBackground,a=e.description,r=e.temperature,n=e.date;return Object(o.jsxs)("div",{className:"weather-card-wrapper",children:[Object(o.jsx)("img",{className:"weather-card-gif",src:t,alt:"weather-gif"}),Object(o.jsx)("h1",{className:"description",children:a}),Object(o.jsx)("h2",{className:"temperture",children:r}),Object(o.jsx)("h1",{className:"date",children:n})]})},l=a(15),d=a(270),h=a(261),j=a(271),b=a(256),p=a(22),f=a(36),m=a.n(f),O=a(85),v="WEATHER_LOADING",g="WEATHER_SUCCESS",x="WEATHER_ERROR",w="REFRESH_LOADING",y="REFRESH_ERROR",R="CONVERT_TEMPERATURE",D="CHART_DATA_SUCCESS",W=a(56),E=a(121),N=a.n(E),k=a(122);a.n(k).a.config();var C={baseURL:"https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/forecast"},F=new function e(){Object(W.a)(this,e),this.key=void 0,this.axiosInstance=N.a.create(C),this.key="20bd2f8a6ea9d7894e942cd2d4c0dbd3"},S=function(e){return e<10&&(e="0".concat(e)),e},A=function(e){var t=new Date(e),a=t.getDate(),r=t.getMonth(),n=t.getFullYear(),c=S(t.getHours()),i=S(t.getMinutes());return"".concat(a," ").concat({1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}[r+1],", ").concat(n,". ").concat(c,":").concat(i)},M=[{time:"00:00",temperature:1},{time:"03:00",temperature:1},{time:"06:00",temperature:1},{time:"09:00",temperature:1},{time:"12:00",temperature:1},{time:"15:00",temperature:1},{time:"18:00",temperature:1},{time:"21:00",temperature:1}],T=function(){return{type:v}},I=function(e){return{type:x,payload:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Munich",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"celcius";return function(){var a=Object(O.a)(m.a.mark((function a(r){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(T()),a.abrupt("return",F.axiosInstance.get("?q=".concat(e,"&APPID=").concat(F.key,"&cnt=40")).then((function(e){var a=e.data;r(_(a,t))})).catch((function(e){r(I(e.message))})));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_=function(e,t){return function(){var a=Object(O.a)(m.a.mark((function a(r){var n;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.list.map((function(e){var a=G(e.main.temp,t);return Object(p.a)({convertedTemperature:a,date:e.dt_txt},e.weather[0])})),r((c={data:e,scale:t,city:e.city.name,newWeatherData:n},{type:g,payload:c}));case 2:case"end":return a.stop()}var c}),a)})));return function(e){return a.apply(this,arguments)}}()},P=function(e,t){return function(a){var r=[];t.newWeatherData.forEach((function(t){if(function(e,t){var a=new Date(e),r=new Date(t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate()}(e.date,t.date)){var a=function(e){var t=new Date(e),a=S(t.getHours()),r=S(t.getMinutes());return"".concat(a,":").concat(r)}(t.date),n=Number(t.convertedTemperature.substring(0,t.convertedTemperature.length-2));r.push({time:a,temperature:n})}})),a(function(){return{type:D,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:M}}(r))}},G=function(e,t){return{celcius:"".concat(Math.round(e-273.15),"\xb0C"),fahrenheit:"".concat(Math.round(9*(e-273.15)/5+32),"\xb0F")}[t]},J=a(30),L=function(e){var t=e.weather,a=Object(J.b)(),r=n.a.useState("celcius"),c=Object(l.a)(r,2),i=c[0],s=c[1];return Object(o.jsx)(d.a,{component:"fieldset",children:Object(o.jsxs)(h.a,{value:i,name:"controlled-radio-buttons-group",className:"radio",onChange:function(e){var r=e.target.value;s(r),a(_(t.data,r))},children:[Object(o.jsx)(j.a,{label:"Celcius",value:"celcius",checked:"celcius"===i,control:Object(o.jsx)(b.a,{})}),Object(o.jsx)(j.a,{label:"Fahrenheit",value:"fahrenheit",checked:"fahrenheit"===i,control:Object(o.jsx)(b.a,{})})]})})},B=a(263),U=a(125),z=a.n(U),Y=function(e){var t=e.title,a=e.variant,r=e.loading,n=e.weather,c=Object(J.b)();return Object(o.jsx)(B.a,{onClick:function(){var e,t;c((e=n.city,t=n.scale,function(){var a=Object(O.a)(m.a.mark((function a(r){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:w}),a.abrupt("return",F.axiosInstance.get("?q=".concat(e,"&APPID=").concat(F.key,"&cnt=40")).then((function(e){var a=e.data;r(_(a,t))})).catch((function(e){var t;r((t=e.message,{type:y,payload:t}))})));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))},loading:r,loadingPosition:"end",variant:a,endIcon:Object(o.jsx)(z.a,{}),children:t})},q=a(265),V=a(266),K=function(){return Object(o.jsx)(V.a,{sx:{display:"flex"},children:Object(o.jsx)(q.a,{color:"primary",size:60})})},Q=new function e(){var t=this;Object(W.a)(this,e),this.Image=void 0,this.selectGif=function(e){return t.Image[e]},this.Image={Clouds:a(185).default,Rain:a(186).default,Sun:a(187).default,Clear:a(188).default}},X=a(253),Z=a(63),$=a(17),ee=function(e){var t=e.chartData;return Object(o.jsx)(X.a,{children:Object(o.jsxs)(Z.c,{data:(null===t||void 0===t?void 0:t.length)>0?t:M,children:[Object(o.jsx)(Z.a,{}),Object(o.jsx)(Z.e,{}),Object(o.jsx)(Z.b,{valueField:"temperature",argumentField:"time"}),Object(o.jsx)(Z.d,{text:"Click card to see daily weather time and temperature preview"}),Object(o.jsx)($.a,{})]})})},te=a(267),ae=a(268),re=a(262),ne=a(264),ce=a(269),ie=a(259),se=a(258),oe=a(255),ue=[{id:1,name:"Munich"},{id:2,name:"Berlin"},{id:3,name:"Hamburg"},{id:5,name:"Stuttgart"},{id:4,name:"Leipzig"}],le=function(e){var t=e.weather,a=Object(J.b)(),r=function(){return t.city?t.city:ue[0].name};return Object(o.jsx)("div",{className:"select-dropdown",children:Object(o.jsxs)(d.a,{fullWidth:!0,children:[Object(o.jsx)(ie.a,{id:"demo-simple-select-label",children:"Cities"}),Object(o.jsx)(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r(),label:"Cities",onChange:function(e){a(H(e.target.value))},children:ue.map((function(e){return Object(o.jsx)(se.a,{selected:e.name===r(),value:e.name,children:e.name},e.id)}))})]})})},de=function(e){var t=e.weather;return Object(o.jsx)(V.a,{sx:{flexGrow:1,width:"100%"},children:Object(o.jsx)(te.a,{color:"inherit",position:"fixed",children:Object(o.jsxs)(ae.a,{children:[Object(o.jsx)(re.a,{variant:"h6",component:"div",sx:{mr:2,color:"#333"},children:"Pay-Weather"}),Object(o.jsx)(ce.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{flexGrow:1},children:Object(o.jsx)(le,{weather:t})}),Object(o.jsx)(ne.a,{color:"inherit"})]})})})},he=function(){var e,t=Object(J.b)(),a=Object(J.c)((function(e){return e.fetchWeather})),r=a.isFetchingWeather,c=a.isRefreshingWeather,i=a.errors,l=a.weather,d=a.chartData;n.a.useEffect((function(){t(H())}),[t]);return Object(o.jsx)(o.Fragment,{children:r?Object(o.jsx)("div",{className:"spinner",children:Object(o.jsx)(K,{})}):Object(o.jsx)(o.Fragment,{children:i?Object(o.jsx)("div",{className:"error",children:i}):Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(de,{weather:l}),Object(o.jsxs)("div",{className:"App-header",children:[Object(o.jsxs)("div",{className:"control-wrapper",children:[Object(o.jsx)(L,{weather:l}),Object(o.jsx)(Y,{variant:"outlined",title:"Refresh",loading:c,weather:l})]}),Object(o.jsx)(s.a,{enableSwipe:!1,isRTL:!1,itemsToShow:3,transitionMs:1e3,children:null===l||void 0===l||null===(e=l.newWeatherData)||void 0===e?void 0:e.map((function(e,a){return Object(o.jsx)("div",{onClick:function(){return function(e,a){t(P(e,a))}(e,l)},className:"weather-card",children:Object(o.jsx)(u,{gifBackground:Q.selectGif(e.main),description:e.description,temperature:e.convertedTemperature,date:A(e.date)})},a)}))})]}),Object(o.jsx)("div",{className:"bar-chart",children:Object(o.jsx)(ee,{chartData:d})})]})})})},je=a(59),be=a(127),pe={isFetchingWeather:!1,isRefreshingWeather:!1,weather:[],chartData:[],errors:""},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!0});case g:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!1,isRefreshingWeather:!1,weather:t.payload});case x:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!1,isRefreshingWeather:!1,errors:t.payload});case w:return Object(p.a)(Object(p.a)({},e),{},{isRefreshingWeather:!0});case y:return Object(p.a)(Object(p.a)({},e),{},{isRefreshingWeather:!1,errors:t.payload});case R:return Object(p.a)(Object(p.a)({},e),{},{weather:t.payload});case D:return Object(p.a)(Object(p.a)({},e),{},{chartData:t.payload});default:return e}},me=Object(je.combineReducers)({fetchWeather:fe}),Oe=a(128),ve=[be.a],ge=Object(je.createStore)(me,Object(Oe.composeWithDevTools)(je.applyMiddleware.apply(void 0,ve)));i.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(J.a,{store:ge,children:Object(o.jsx)(he,{})})}),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.4202fde4.chunk.js.map