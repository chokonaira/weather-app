(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{151:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),i=a.n(c),s=(a(151),a(128)),u=a(2),o=function(e){var t=e.gifBackground,a=e.description,r=e.temperature,n=e.date;return Object(u.jsxs)("div",{className:"weather-card-wrapper",children:[Object(u.jsx)("img",{className:"weather-card-gif",src:t,alt:"weather-gif"}),Object(u.jsx)("h1",{className:"description",children:a}),Object(u.jsx)("h2",{className:"temperture",children:r}),Object(u.jsx)("h1",{className:"date",children:n})]})},d=a(15),l=a(256),h=a(255),j=a(253),b=a(248),p=a(22),m=a(36),f=a.n(m),O=a(84),g="WEATHER_LOADING",v="WEATHER_SUCCESS",x="WEATHER_ERROR",w="REFRESH_LOADING",y="REFRESH_ERROR",R="CONVERT_TEMPERATURE",D="CHART_DATA_SUCCESS",W=a(55),E=a(119),k=a.n(E),C=a(120);a.n(C).a.config();var F={baseURL:"http://api.openweathermap.org/data/2.5/forecast"},N=new function e(){Object(W.a)(this,e),this.key=void 0,this.axiosInstance=k.a.create(F),this.key="20bd2f8a6ea9d7894e942cd2d4c0dbd3"},S=function(e){return e<10&&(e="0".concat(e)),e},A=function(e){var t=new Date(e),a=t.getDate(),r=t.getMonth(),n=t.getFullYear(),c=S(t.getHours()),i=S(t.getMinutes());return"".concat(a," ").concat({1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"}[r+1],", ").concat(n,". ").concat(c,":").concat(i)},M=[{time:"00:00",temperature:1},{time:"03:00",temperature:1},{time:"06:00",temperature:1},{time:"09:00",temperature:1},{time:"12:00",temperature:1},{time:"15:00",temperature:1},{time:"18:00",temperature:1},{time:"21:00",temperature:1}],T=function(){return{type:g}},I=function(e){return{type:x,payload:e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Munich",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"celcius";return function(){var a=Object(O.a)(f.a.mark((function a(r){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(T()),a.abrupt("return",N.axiosInstance.get("?q=".concat(e,"&APPID=").concat(N.key,"&cnt=40")).then((function(e){var a=e.data;r(_(a,t))})).catch((function(e){r(I(e.message))})));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},_=function(e,t){return function(){var a=Object(O.a)(f.a.mark((function a(r){var n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=e.list.map((function(e){var a=J(e.main.temp,t);return Object(p.a)({convertedTemperature:a,date:e.dt_txt},e.weather[0])})),r((c={data:e,scale:t,city:e.city.name,newWeatherData:n},{type:v,payload:c}));case 2:case"end":return a.stop()}var c}),a)})));return function(e){return a.apply(this,arguments)}}()},P=function(e,t){return function(a){var r=[];t.newWeatherData.forEach((function(t){if(function(e,t){var a=new Date(e),r=new Date(t);return a.getFullYear()===r.getFullYear()&&a.getMonth()===r.getMonth()&&a.getDate()===r.getDate()}(e.date,t.date)){var a=function(e){var t=new Date(e),a=S(t.getHours()),r=S(t.getMinutes());return"".concat(a,":").concat(r)}(t.date),n=Number(t.convertedTemperature.substring(0,t.convertedTemperature.length-2));r.push({time:a,temperature:n})}})),a(function(){return{type:D,payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:M}}(r))}},J=function(e,t){return{celcius:"".concat(Math.round(e-273.15),"\xb0C"),fahrenheit:"".concat(Math.round(9*(e-273.15)/5+32),"\xb0F")}[t]},L=a(30),B=function(e){var t=e.weather,a=Object(L.b)(),r=n.a.useState("celcius"),c=Object(d.a)(r,2),i=c[0],s=c[1];return Object(u.jsx)(l.a,{component:"fieldset",children:Object(u.jsxs)(h.a,{value:i,name:"controlled-radio-buttons-group",className:"radio",onChange:function(e){var r=e.target.value;s(r),a(_(t.data,r))},children:[Object(u.jsx)(j.a,{label:"Celcius",value:"celcius",checked:"celcius"===i,control:Object(u.jsx)(b.a,{})}),Object(u.jsx)(j.a,{label:"Fahrenheit",value:"fahrenheit",checked:"fahrenheit"===i,control:Object(u.jsx)(b.a,{})})]})})},G=a(251),U=a(123),Y=a.n(U),q=function(e){var t=e.title,a=e.variant,r=e.loading,n=e.weather,c=Object(L.b)();return Object(u.jsx)(G.a,{onClick:function(){var e,t;c((e=n.city,t=n.scale,function(){var a=Object(O.a)(f.a.mark((function a(r){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r({type:w}),a.abrupt("return",N.axiosInstance.get("?q=".concat(e,"&APPID=").concat(N.key,"&cnt=40")).then((function(e){var a=e.data;r(_(a,t))})).catch((function(e){var t;r((t=e.message,{type:y,payload:t}))})));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))},loading:r,loadingPosition:"end",variant:a,endIcon:Object(u.jsx)(Y.a,{}),children:t})},z=a(257),V=a(258),K=function(){return Object(u.jsx)(V.a,{sx:{display:"flex"},children:Object(u.jsx)(z.a,{color:"primary",size:100})})},Q=a(252),X=a(249),Z=a(247),$=[{id:1,name:"Munich"},{id:2,name:"Berlin"},{id:3,name:"Hamburg"},{id:5,name:"Stuttgart"},{id:4,name:"Leipzig"}],ee=function(e){var t=e.weather,a=Object(L.b)(),r=function(){return t.city?t.city:$[0].name};return Object(u.jsx)(V.a,{sx:{minWidth:120},children:Object(u.jsxs)(l.a,{fullWidth:!0,children:[Object(u.jsx)(Q.a,{id:"demo-simple-select-label",children:"Cities"}),Object(u.jsx)(Z.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r(),label:"Cities",onChange:function(e){a(H(e.target.value))},children:$.map((function(e){return Object(u.jsx)(X.a,{selected:e.name===r(),value:e.name,children:e.name},e.id)}))})]})})},te=a.p+"static/media/clouds.2b8ecda2.gif",ae=a.p+"static/media/rain.ad71a4ef.gif",re=a.p+"static/media/sun.5e4ba486.gif",ne=a.p+"static/media/clear-sky.07b94d03.gif",ce=new function e(){var t=this;Object(W.a)(this,e),this.Image=void 0,this.selectGif=function(e){return t.Image[e]},this.Image={Clouds:te,Rain:ae,Sun:re,Clear:ne}},ie=a(246),se=a(62),ue=a(17),oe=function(e){var t=e.chartData;return Object(u.jsx)(ie.a,{children:Object(u.jsxs)(se.c,{data:(null===t||void 0===t?void 0:t.length)>0?t:M,children:[Object(u.jsx)(se.a,{}),Object(u.jsx)(se.e,{}),Object(u.jsx)(se.b,{valueField:"temperature",argumentField:"time"}),Object(u.jsx)(se.d,{text:"Click card to see daily weather time and temperature preview"}),Object(u.jsx)(ue.a,{})]})})},de=function(){var e,t=Object(L.b)(),a=Object(L.c)((function(e){return e.fetchWeather})),r=a.isFetchingWeather,c=a.isRefreshingWeather,i=a.errors,d=a.weather,l=a.chartData;n.a.useEffect((function(){t(H())}),[t]);return Object(u.jsx)(u.Fragment,{children:r?Object(u.jsx)("div",{className:"spinner",children:Object(u.jsx)(K,{})}):Object(u.jsx)(u.Fragment,{children:i?Object(u.jsx)("div",{className:"error",children:i}):Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"App-header",children:[Object(u.jsxs)("div",{className:"control-wrapper",children:[Object(u.jsx)(ee,{weather:d}),Object(u.jsx)(q,{variant:"outlined",title:"Refresh",loading:c,weather:d})]}),Object(u.jsx)(B,{weather:d}),Object(u.jsx)(s.a,{enableSwipe:!1,isRTL:!1,itemsToShow:3,transitionMs:1e3,children:null===d||void 0===d||null===(e=d.newWeatherData)||void 0===e?void 0:e.map((function(e,a){return Object(u.jsx)("div",{onClick:function(){return function(e,a){t(P(e,a))}(e,d)},className:"weather-card",children:Object(u.jsx)(o,{gifBackground:ce.selectGif(e.main),description:e.description,temperature:e.convertedTemperature,date:A(e.date)})},a)}))})]}),Object(u.jsx)(oe,{chartData:l})]})})})},le=a(58),he=a(125),je={isFetchingWeather:!1,isRefreshingWeather:!1,weather:[],chartData:[],errors:""},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!0});case v:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!1,isRefreshingWeather:!1,weather:t.payload});case x:return Object(p.a)(Object(p.a)({},e),{},{isFetchingWeather:!1,isRefreshingWeather:!1,errors:t.payload});case w:return Object(p.a)(Object(p.a)({},e),{},{isRefreshingWeather:!0});case y:return Object(p.a)(Object(p.a)({},e),{},{isRefreshingWeather:!1,errors:t.payload});case R:return Object(p.a)(Object(p.a)({},e),{},{weather:t.payload});case D:return Object(p.a)(Object(p.a)({},e),{},{chartData:t.payload});default:return e}},pe=Object(le.combineReducers)({fetchWeather:be}),me=a(126),fe=[he.a],Oe=Object(le.createStore)(pe,Object(me.composeWithDevTools)(le.applyMiddleware.apply(void 0,fe)));i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(L.a,{store:Oe,children:Object(u.jsx)(de,{})})}),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.c4948c93.chunk.js.map